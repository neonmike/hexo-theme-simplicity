<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title><% if (page.title){ %><%= page.title %> | <% } %><%= config.title %></title>
  
  <% if (theme.favicon){ %>
    <link rel="shortcut icon" href="<%- url_for(theme.favicon) %>">
  <% } %>
  
  <%- css('css/style') %>
  
  <!-- 引入字体图标 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
  
  <!-- 引入代码高亮样式 -->
  <% if(theme.highlight && theme.highlight.enable){ %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github.min.css">
  <% } %>
  
  <!-- 引入MathJax -->
  <% if(theme.mathjax && theme.mathjax.enable){ %>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <% } %>
</head>

<body>
  <div class="container">
    <!-- 页头 -->
    <%- partial('partial/header') %>
    
    <div class="main-content">
      <!-- 主内容区 -->
      <div class="content-wrapper">
        <div class="content">
          <%- body %>
        </div>
        
        <!-- 侧边栏 -->
        <% if(theme.sidebar && theme.sidebar.widgets){ %>
          <div class="sidebar <%= theme.sidebar.position || 'right' %>">
            <%- partial('partial/sidebar') %>
          </div>
        <% } %>
      </div>
    </div>
    
    <!-- 页脚 -->
    <%- partial('partial/footer') %>
  </div>
  
  <!-- 引入JavaScript -->
  <%- js('js/script') %>
  
  <!-- 代码高亮 -->
  <% if(theme.highlight && theme.highlight.enable){ %>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/lib/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
  <% } %>
  
  <!-- 搜索功能 -->
  <% if(theme.search && theme.search.enable){ %>
    <%- js('js/search') %>
  <% } %>
  
  <!-- 页面修复脚本 -->
  <%- js('js/page-fix') %>
  
  <!-- 图片懒加载 -->
  <% if(theme.lazyload && theme.lazyload.enable){ %>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js"></script>
    <script>
      var lazyLoadInstance = new LazyLoad({
        elements_selector: ".lazy"
      });
    </script>
  <% } %>
</body>
</html>
